{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/user-service.service\";\nimport * as i3 from \"src/app/services/car.service\";\nexport class RentalAgreementComponent {\n  constructor(router, userService, carService) {\n    this.router = router;\n    this.userService = userService;\n    this.carService = carService;\n    this.userName = this.userService.getUserNameFromToken();\n    console.log(this.userName);\n    this.router.params.subscribe(params => {\n      console.log(params);\n      this.carId = params['carId'];\n      this.startDate = params['startDate'];\n      this.endDate = params['endDate'];\n      const startDateToDateTime = new Date(this.startDate);\n      const endDateToDateTime = new Date(this.endDate);\n      const timeDifference = endDateToDateTime.getTime() - startDateToDateTime.getTime();\n      this.rentalDuration = Math.ceil(timeDifference / (1000 * 24 * 3600));\n    });\n  }\n  ngOnInit() {\n    this.carService.getCarById(this.carId).subscribe(res => {\n      console.log(res);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\n_class = RentalAgreementComponent;\n_class.ɵfac = function RentalAgreementComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.UserServiceService), i0.ɵɵdirectiveInject(i3.CarService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-rental-agreement\"]],\n  decls: 2,\n  vars: 0,\n  template: function RentalAgreementComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"rental-agreement works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAUA,OAAM,MAAOA,wBAAwB;EAQnCC,YAAoBC,MAAqB,EAASC,WAA8B,EAASC,UAAqB;IAA1F,WAAM,GAANF,MAAM;IAAwB,gBAAW,GAAXC,WAAW;IAA4B,eAAU,GAAVC,UAAU;IACjG,IAAI,CAACC,QAAQ,GAAC,IAAI,CAACF,WAAW,CAACG,oBAAoB,EAAE;IACrDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,QAAQ,CAAC;IAC1B,IAAI,CAACH,MAAM,CAACO,MAAM,CAACC,SAAS,CAACD,MAAM,IAAE;MACnCF,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;MACnB,IAAI,CAACE,KAAK,GAACF,MAAM,CAAC,OAAO,CAAC;MAC1B,IAAI,CAACG,SAAS,GAACH,MAAM,CAAC,WAAW,CAAC;MAClC,IAAI,CAACI,OAAO,GAACJ,MAAM,CAAC,SAAS,CAAC;MAC9B,MAAMK,mBAAmB,GAAC,IAAIC,IAAI,CAAC,IAAI,CAACH,SAAS,CAAC;MAClD,MAAMI,iBAAiB,GAAC,IAAID,IAAI,CAAC,IAAI,CAACF,OAAO,CAAC;MAC9C,MAAMI,cAAc,GAACD,iBAAiB,CAACE,OAAO,EAAE,GAACJ,mBAAmB,CAACI,OAAO,EAAE;MAC9E,IAAI,CAACC,cAAc,GAACC,IAAI,CAACC,IAAI,CAACJ,cAAc,IAAE,IAAI,GAAC,EAAE,GAAC,IAAI,CAAC,CAAC;IAChE,CAAC,CAAC;EACJ;EACEK,QAAQ;IACN,IAAI,CAAClB,UAAU,CAACmB,UAAU,CAAC,IAAI,CAACZ,KAAK,CAAC,CAACD,SAAS,CAAEc,GAAG,IAAG;MACtDjB,OAAO,CAACC,GAAG,CAACgB,GAAG,CAAC;IAClB,CAAC,EACAC,KAAK,IAAG;MACPlB,OAAO,CAACC,GAAG,CAACiB,KAAK,CAAC;IACpB,CAAC,CAAC;EACJ;;SA7BWzB,wBAAwB;;mBAAxBA,MAAwB;AAAA;;QAAxBA,MAAwB;EAAA0B;EAAAC;EAAAC;EAAAC;IAAA;MCVrCC,yBAAG;MAAAA,uCAAuB;MAAAA,iBAAI","names":["RentalAgreementComponent","constructor","router","userService","carService","userName","getUserNameFromToken","console","log","params","subscribe","carId","startDate","endDate","startDateToDateTime","Date","endDateToDateTime","timeDifference","getTime","rentalDuration","Math","ceil","ngOnInit","getCarById","res","error","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\ayushpal\\Dotnet-MiniAssignment\\Frontend\\car-rental-system\\src\\app\\components\\rental-agreement\\rental-agreement.component.ts","C:\\Users\\ayushpal\\Dotnet-MiniAssignment\\Frontend\\car-rental-system\\src\\app\\components\\rental-agreement\\rental-agreement.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CarService } from 'src/app/services/car.service';\nimport { UserServiceService } from 'src/app/services/user-service.service';\n\n@Component({\n  selector: 'app-rental-agreement',\n  templateUrl: './rental-agreement.component.html',\n  styleUrls: ['./rental-agreement.component.css']\n})\nexport class RentalAgreementComponent implements OnInit {\n  carId:any;\n  startDate:any;\n  endDate:any;\n  userName:any\n  rentalDuration:any\n  totalCost:any\n  carDetails:any\n  constructor(private router:ActivatedRoute,private userService:UserServiceService,private carService:CarService){\n    this.userName=this.userService.getUserNameFromToken();\n    console.log(this.userName);\n    this.router.params.subscribe(params=>{\n      console.log(params);\n      this.carId=params['carId'];\n      this.startDate=params['startDate'];\n      this.endDate=params['endDate'];\n      const startDateToDateTime=new Date(this.startDate);\n      const endDateToDateTime=new Date(this.endDate);\n      const timeDifference=endDateToDateTime.getTime()-startDateToDateTime.getTime();\n      this.rentalDuration=Math.ceil(timeDifference/(1000*24*3600));\n  })\n}\n  ngOnInit(): void {\n    this.carService.getCarById(this.carId).subscribe((res)=>{\n      console.log(res);\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n}\n \n  \n","<p>rental-agreement works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}