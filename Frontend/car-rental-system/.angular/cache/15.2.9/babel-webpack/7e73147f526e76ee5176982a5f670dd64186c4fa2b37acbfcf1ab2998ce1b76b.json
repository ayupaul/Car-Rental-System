{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { DatePipe } from '@angular/common';\nimport { Component } from '@angular/core';\nlet RentalAgreementComponent = class RentalAgreementComponent {\n  constructor(router, userService, carService) {\n    this.router = router;\n    this.userService = userService;\n    this.carService = carService;\n    this.userName = this.userService.getUserNameFromToken();\n    console.log(this.userName);\n    this.router.params.subscribe(params => {\n      console.log(params);\n      this.carId = params['carId'];\n      this.startDate = params['startDate'];\n      this.endDate = params['endDate'];\n      const startDateToDateTime = new Date(this.startDate);\n      const endDateToDateTime = new Date(this.endDate);\n      const timeDifference = endDateToDateTime.getTime() - startDateToDateTime.getTime();\n      this.rentalDuration = Math.ceil(timeDifference / (1000 * 24 * 3600));\n      const datePipe = new DatePipe('en-US');\n      this.currentDate = datePipe.transform(new Date(), 'yyyy-MM-dd');\n    });\n  }\n  ngOnInit() {\n    this.carService.getCarById(this.carId).subscribe(res => {\n      this.carDetails = res;\n      const numericPrice = parseFloat(this.carDetails.rentalPrice.replace('$', ''));\n      this.totalCost = numericPrice * this.rentalDuration;\n    }, error => {\n      console.log(error);\n    });\n  }\n};\nRentalAgreementComponent = __decorate([Component({\n  selector: 'app-rental-agreement',\n  templateUrl: './rental-agreement.component.html',\n  styleUrls: ['./rental-agreement.component.css']\n})], RentalAgreementComponent);\nexport { RentalAgreementComponent };","map":{"version":3,"mappings":";AAAA,SAASA,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,SAAS,QAAgB,eAAe;AAU1C,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EASnCC,YAAoBC,MAAqB,EAASC,WAA8B,EAASC,UAAqB;IAA1F,WAAM,GAANF,MAAM;IAAwB,gBAAW,GAAXC,WAAW;IAA4B,eAAU,GAAVC,UAAU;IACjG,IAAI,CAACC,QAAQ,GAAC,IAAI,CAACF,WAAW,CAACG,oBAAoB,EAAE;IACrDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,QAAQ,CAAC;IAC1B,IAAI,CAACH,MAAM,CAACO,MAAM,CAACC,SAAS,CAACD,MAAM,IAAE;MACnCF,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;MACnB,IAAI,CAACE,KAAK,GAACF,MAAM,CAAC,OAAO,CAAC;MAC1B,IAAI,CAACG,SAAS,GAACH,MAAM,CAAC,WAAW,CAAC;MAClC,IAAI,CAACI,OAAO,GAACJ,MAAM,CAAC,SAAS,CAAC;MAC9B,MAAMK,mBAAmB,GAAC,IAAIC,IAAI,CAAC,IAAI,CAACH,SAAS,CAAC;MAClD,MAAMI,iBAAiB,GAAC,IAAID,IAAI,CAAC,IAAI,CAACF,OAAO,CAAC;MAC9C,MAAMI,cAAc,GAACD,iBAAiB,CAACE,OAAO,EAAE,GAACJ,mBAAmB,CAACI,OAAO,EAAE;MAC9E,IAAI,CAACC,cAAc,GAACC,IAAI,CAACC,IAAI,CAACJ,cAAc,IAAE,IAAI,GAAC,EAAE,GAAC,IAAI,CAAC,CAAC;MAC5D,MAAMK,QAAQ,GAAG,IAAIxB,QAAQ,CAAC,OAAO,CAAC;MACxC,IAAI,CAACyB,WAAW,GAACD,QAAQ,CAACE,SAAS,CAAC,IAAIT,IAAI,EAAE,EAAC,YAAY,CAAC;IAE9D,CAAC,CAAC;EACJ;EACEU,QAAQ;IACN,IAAI,CAACrB,UAAU,CAACsB,UAAU,CAAC,IAAI,CAACf,KAAK,CAAC,CAACD,SAAS,CAAEiB,GAAG,IAAG;MACvD,IAAI,CAACC,UAAU,GAACD,GAAG;MACnB,MAAME,YAAY,GAACC,UAAU,CAAC,IAAI,CAACF,UAAU,CAACG,WAAW,CAACC,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,CAAC;MAC1E,IAAI,CAACC,SAAS,GAACJ,YAAY,GAAC,IAAI,CAACV,cAAc;IAChD,CAAC,EACAe,KAAK,IAAG;MACP3B,OAAO,CAACC,GAAG,CAAC0B,KAAK,CAAC;IACpB,CAAC,CAAC;EAEJ;CACD;AArCYlC,wBAAwB,eALpCD,SAAS,CAAC;EACToC,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,GACWrC,wBAAwB,CAqCpC;SArCYA,wBAAwB","names":["DatePipe","Component","RentalAgreementComponent","constructor","router","userService","carService","userName","getUserNameFromToken","console","log","params","subscribe","carId","startDate","endDate","startDateToDateTime","Date","endDateToDateTime","timeDifference","getTime","rentalDuration","Math","ceil","datePipe","currentDate","transform","ngOnInit","getCarById","res","carDetails","numericPrice","parseFloat","rentalPrice","replace","totalCost","error","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ayushpal\\Dotnet-MiniAssignment\\Frontend\\car-rental-system\\src\\app\\components\\rental-agreement\\rental-agreement.component.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CarService } from 'src/app/services/car.service';\nimport { UserServiceService } from 'src/app/services/user-service.service';\n\n@Component({\n  selector: 'app-rental-agreement',\n  templateUrl: './rental-agreement.component.html',\n  styleUrls: ['./rental-agreement.component.css']\n})\nexport class RentalAgreementComponent implements OnInit {\n  carId:any;\n  startDate:any;\n  endDate:any;\n  userName:any\n  rentalDuration:any\n  totalCost:any\n  carDetails:any\n  currentDate:any\n  constructor(private router:ActivatedRoute,private userService:UserServiceService,private carService:CarService){\n    this.userName=this.userService.getUserNameFromToken();\n    console.log(this.userName);\n    this.router.params.subscribe(params=>{\n      console.log(params);\n      this.carId=params['carId'];\n      this.startDate=params['startDate'];\n      this.endDate=params['endDate'];\n      const startDateToDateTime=new Date(this.startDate);\n      const endDateToDateTime=new Date(this.endDate);\n      const timeDifference=endDateToDateTime.getTime()-startDateToDateTime.getTime();\n      this.rentalDuration=Math.ceil(timeDifference/(1000*24*3600));\n      const datePipe = new DatePipe('en-US');\n    this.currentDate=datePipe.transform(new Date(),'yyyy-MM-dd');\n  \n  })\n}\n  ngOnInit(): void {\n    this.carService.getCarById(this.carId).subscribe((res)=>{\n     this.carDetails=res;\n     const numericPrice=parseFloat(this.carDetails.rentalPrice.replace('$',''));\n     this.totalCost=numericPrice*this.rentalDuration;\n    },\n    (error)=>{\n      console.log(error);\n    })\n    \n  }\n}\n \n  \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}